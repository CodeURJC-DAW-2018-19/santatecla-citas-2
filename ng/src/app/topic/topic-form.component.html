<div *ngIf="topic">
  <mat-card>
    <mat-card-title>
      <div layout="row" layout-align="start center">
        <span flex>Topic "{{topic.name}}"</span>
      </div>
    </mat-card-title>

    <mat-list>
      <mat-list-item>
        <mat-form-field style="width: 95%">
          <input matInput [(ngModel)]="topic.name" placeholder="Name" />
        </mat-form-field>
      </mat-list-item>

      <mat-divider></mat-divider>
      <mat-list-item>
        <h3 mat-subheader>References</h3>
      </mat-list-item>
      <mat-divider></mat-divider>
      <div *ngIf=hasQuotes>

        <mat-card *ngFor='let quote of quotes'>
          <div>

            <mat-card-title>
              <mat-icon mat-list-icon color="primary">note</mat-icon><i>"{{quote.text}}"</i>
            </mat-card-title>
            <mat-card-content>{{quote.author}},{{quote.book}}<button mat-icon-button (click)="removeReference(quote)">
                <mat-icon aria-label="Delete">delete_forever</mat-icon>
              </button></mat-card-content>
          </div>

        </mat-card>
      </div>

      <mat-divider></mat-divider>
      <mat-list-item>
        <h3 mat-subheader>Texts</h3>
      </mat-list-item>
      <mat-divider></mat-divider>
      <br />
      <mat-list *ngIf=hasText>
        <mat-list-item *ngFor='let text of texts; let index = index;trackBy:trackByIndex;'>
          <mat-form-field style="width: 95%">
            <input matInput [(ngModel)]="texts[index]" placeholder="Text" />
          </mat-form-field>
        </mat-list-item>
      </mat-list>



      <button mat-raised-button style="margin: 1%" (click)="showPopup()">Add Reference</button>
      <button mat-raised-button style="margin: 1%" (click)="addText()">Add Text</button>
      <p>
        <button mat-raised-button color="warn" style="margin: 1%" (click)="cancel()">Cancel</button>
        <button mat-raised-button color="primary" style="margin: 1%" (click)="save()">Save</button>
      </p>
    </mat-list>
  </mat-card>
</div>